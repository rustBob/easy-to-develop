{"version":3,"file":"index.js","sources":["api/globalApi/index.js"],"sourcesContent":["import { generateCommonApis, buildPath, handleRequest } from '@/api/index.js';\nimport http from '@/api/index.js';\nimport common from '@/util/common';\n\nexport const globalApi = {\n  ...(function () {\n    const prefix = \"/globalApi\";\n    const resources = [\n      'users',\n      'roles',\n      'mapNodes',\n      'routes',\n      'drinks',\n      'categories',\n      'locations',\n      'banners',\n      'stores',\n      'orders',\n      'after-sales'\n    ]\n\n    // 动态注册 api 方法\n    const apis = generateCommonApis(prefix, resources);\n\n    // 特殊 api 方法\n    apis['auth'] =  {\n      login: async function (loginData = {}, success = null, failure = null){\n        const url = buildPath(prefix, ['auth'], 'post', {}, 'login');\n        return handleRequest(http.post(url, common.trimObj(loginData)), success, failure);\n      },\n      register: async function (registerData = {}, success = null, failure = null){\n        const url = buildPath(prefix, ['auth'], 'post', {}, 'register');\n        return handleRequest(http.post(url, common.trimObj(registerData)), success, failure);\n      }\n    }\n\n    return apis;\n\n  })()\n}\n"],"names":["generateCommonApis","buildPath","handleRequest","http","common"],"mappings":";;;AAIY,MAAC,YAAY;AAAA,EACvB,GAAI,WAAY;AACd,UAAM,SAAS;AACf,UAAM,YAAY;AAAA,MAChB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAGD,UAAM,OAAOA,UAAAA,mBAAmB,QAAQ,SAAS;AAGjD,SAAK,MAAM,IAAK;AAAA,MACd,OAAO,eAAgB,YAAY,CAAE,GAAE,UAAU,MAAM,UAAU,MAAK;AACpE,cAAM,MAAMC,UAAS,UAAC,QAAQ,CAAC,MAAM,GAAG,QAAQ,IAAI,OAAO;AAC3D,eAAOC,wBAAcC,UAAAA,KAAK,KAAK,KAAKC,YAAAA,OAAO,QAAQ,SAAS,CAAC,GAAG,SAAS,OAAO;AAAA,MACjF;AAAA,MACD,UAAU,eAAgB,eAAe,CAAE,GAAE,UAAU,MAAM,UAAU,MAAK;AAC1E,cAAM,MAAMH,UAAS,UAAC,QAAQ,CAAC,MAAM,GAAG,QAAQ,IAAI,UAAU;AAC9D,eAAOC,wBAAcC,UAAAA,KAAK,KAAK,KAAKC,YAAAA,OAAO,QAAQ,YAAY,CAAC,GAAG,SAAS,OAAO;AAAA,MACpF;AAAA,IACF;AAED,WAAO;AAAA,EAEX,EAAM;AACN;;"}