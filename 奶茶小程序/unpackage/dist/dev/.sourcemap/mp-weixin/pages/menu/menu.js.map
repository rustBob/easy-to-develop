{"version":3,"file":"menu.js","sources":["pages/menu/menu.vue","../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWVudS9tZW51LnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- Store Header -->\n    <view class=\"store-header\">\n      <!-- Toggle Switch -->\n      <view class=\"order-type-switch\">\n          <view class=\"switch-item\" :class=\"{active: cartStore.orderType === 'pickup'}\" @click=\"setOrderType('pickup')\">Ëá™Âèñ</view>\n          <view class=\"switch-item\" :class=\"{active: cartStore.orderType === 'delivery'}\" @click=\"setOrderType('delivery')\">Â§ñÂçñ</view>\n      </view>\n\n      <view class=\"store-info\" v-if=\"cartStore.orderType === 'pickup'\" @click=\"showStoreModal = true\">\n        <view class=\"store-name-row\">\n           <text class=\"store-name\">{{ cartStore.store ? cartStore.store.name : '‰∫ëÈ°∂Â•∂Ëå∂ (ÁßëÊäÄÂõ≠Â∫ó)' }}</text>\n           <image src=\"/static/enter-arrow.png\" class=\"arrow\" />\n        </view>\n        <view class=\"store-desc\">\n            <text class=\"distance\">{{ cartStore.store ? 'Ë∑ùÁ¶ªÊÇ® ' + cartStore.store.distance : 'Ë∑ùÁ¶ªÊÇ® 1.2km' }}</text>\n            <text class=\"separator\">|</text>\n            <text class=\"desc-text\">{{ cartStore.store ? cartStore.store.address : 'ÊØèÊó•Áé∞ÁÖÆÔºåÊñ∞È≤úÂà∂‰Ωú' }}</text>\n        </view>\n      </view>\n\n      <view class=\"delivery-info\" v-else>\n          <view class=\"address-box\" @click=\"openAddressSelect\">\n              <view v-if=\"cartStore.address\" class=\"addr-content\">\n                  <text class=\"addr-text\">ÈÖçÈÄÅËá≥ ¬∑ {{ cartStore.address.position }} {{ cartStore.address.detail }}</text>\n                  <text class=\"user-text\">{{ cartStore.address.name }} {{ cartStore.address.phone }}</text>\n              </view>\n              <view v-else class=\"no-addr\">\n                  <text class=\"plus\">+</text>\n                  <text>ÈÄâÊã©Êî∂Ë¥ßÂú∞ÂùÄ</text>\n              </view>\n              <image src=\"/static/enter-arrow.png\" class=\"arrow\" />\n          </view>\n          \n          <view class=\"delivery-store\" @click=\"showStoreModal = true\">\n              <text class=\"label\">Áî±</text>\n              <text class=\"name\">{{ cartStore.store ? cartStore.store.name : 'ÈÄâÊã©Èó®Â∫ó' }}</text>\n              <text class=\"label\">ÈÖçÈÄÅ</text>\n              <image src=\"/static/enter-arrow.png\" class=\"arrow-small\" />\n          </view>\n\n          <view class=\"delivery-tip\">\n              <text>Â§ñÂçñÈÖçÈÄÅ | È¢ÑËÆ°30ÂàÜÈíüÈÄÅËææ</text>\n          </view>\n      </view>\n\n      <view class=\"bulletin\">\n            <text class=\"tag\">ÂÖ¨Âëä</text>\n            <text class=\"bulletin-text\">Êñ∞ÂìÅ\"Â§öËÇâËë°ËêÑÂÜª\"‰∏äÂ∏ÇÔºåÊ¨¢ËøéÂìÅÂ∞ùÔºÅ</text>\n      </view>\n      \n      <!-- Search Bar Entry -->\n      <view class=\"search-entry\" @click=\"showSearch = true\">\n          <text class=\"icon\">üîç</text>\n          <text class=\"placeholder\">ÊêúÁ¥¢ÂïÜÂìÅÔºåÂÖ±{{ allProducts.length }}Ê¨æÂ•ΩËå∂</text>\n      </view>\n    </view>\n    <view class=\"menu-layout\">\n      <!-- Left: Categories -->\n      <scroll-view scroll-y class=\"left-nav\">\n        <view \n          v-for=\"cat in categories\" \n          :key=\"cat.id\" \n          class=\"nav-item\"\n          :class=\"{ active: activeCategoryId === cat.id }\"\n          @click=\"switchCategory(cat.id)\"\n        >\n          <text>{{ cat.name }}</text>\n        </view>\n      </scroll-view>\n\n      <!-- Right: Products -->\n      <scroll-view scroll-y class=\"right-content\">\n        <view class=\"category-title\" v-if=\"activeCategory\">\n          <text>{{ activeCategory.name }}</text>\n        </view>\n        \n        <view class=\"product-list\">\n          <view \n            v-for=\"prod in activeProducts\" \n            :key=\"prod.id\" \n            class=\"product-item\"\n            @click=\"openProduct(prod)\"\n          >\n            <image :src=\"prod.image\" mode=\"aspectFill\" class=\"prod-img\" />\n            <view class=\"prod-info\">\n              <view>\n                <text class=\"name\">{{ prod.name }}</text>\n                <text class=\"desc\">{{ prod.description }}</text>\n              </view>\n              <view class=\"price-row\">\n                <text class=\"price\">¬•{{ prod.price }}</text>\n                <view class=\"add-btn\">\n                  <text class=\"plus\">+</text>\n                </view>\n              </view>\n            </view>\n          </view>\n        </view>\n      </scroll-view>\n    </view>\n\n    <!-- Floating Cart Bar -->\n    <view \n      v-if=\"cartStore.totalCount > 0\" \n      class=\"cart-bar\"\n      @click=\"showCart = true\"\n    >\n      <view class=\"cart-icon-wrap\">\n        <text class=\"icon\">üëú</text>\n        <view class=\"badge\">{{ cartStore.totalCount }}</view>\n      </view>\n      <view class=\"price-info\">\n        <text class=\"total\">¬•{{ cartStore.finalTotal }}</text>\n        <text class=\"discount\" v-if=\"cartStore.discountAmount > 0\">Â∑≤ÁúÅ ¬•{{ cartStore.discountAmount }}</text>\n      </view>\n      <view class=\"settle-btn\">ÂéªÁªìÁÆó</view>\n    </view>\n\n    <!-- Components -->\n    <ProductDetail \n      v-model:visible=\"showDetail\" \n      :product=\"selectedProduct\"\n      @add-to-cart=\"handleAddToCart\"\n    />\n    \n    <CartPopup \n      v-model:visible=\"showCart\" \n      @submit=\"handleSubmitOrder\"\n    />\n\n    <StoreModal\n        v-model:visible=\"showStoreModal\"\n        :selected-id=\"cartStore.store?.id\"\n        @select=\"handleStoreSelect\"\n    />\n    \n    <SearchOverlay\n        v-model:visible=\"showSearch\"\n        :all-products=\"allProducts\"\n        @open-product=\"openProduct\"\n    />\n  </view>\n</template>\n\n<script setup>\nimport { ref, computed, watch } from 'vue';\nimport { onShow } from '@dcloudio/uni-app';\nimport { useCartStore } from '@/store/cart';\nimport { useUserStore } from '@/store/user';\nimport { globalApi } from '@/api/globalApi';\nimport ProductDetail from '@/components/ProductDetail.vue';\nimport CartPopup from '@/components/CartPopup.vue';\nimport StoreModal from '@/components/StoreModal.vue';\nimport SearchOverlay from '@/components/SearchOverlay.vue';\n\nconst cartStore = useCartStore();\nconst userStore = useUserStore();\n\nconst categories = ref([]);\nconst allProducts = ref([]);\nconst activeCategoryId = ref('');\nconst showDetail = ref(false);\nconst showCart = ref(false);\nconst showStoreModal = ref(false);\nconst showSearch = ref(false);\nconst selectedProduct = ref(null);\n\nwatch(() => cartStore.store, (newVal, oldVal) => {\n    globalApi['drinks'].get(null, { storeId: newVal.id }, (res) => {\n      allProducts.value = res;\n    }, (err) => {\n      uni.showToast({ title: err.msg || 'Ëé∑ÂèñÂïÜÂìÅÂ§±Ë¥•', icon: 'none' });\n    });\n});\n\nonShow(async () => {\n  globalApi['categories'].get(null, null, (res) => {\n    categories.value = res;\n    activeCategoryId.value = res[0].id;\n  }, (err) => {\n    uni.showToast({ title: err.msg || 'Ëé∑ÂèñÂàÜÁ±ªÂ§±Ë¥•', icon: 'none' });\n  });\n});\n\nconst activeCategory = computed(() => categories.value.find(c => c.id === activeCategoryId.value));\nconst activeProducts = computed(() => allProducts.value.filter(p => p.categoryId === activeCategoryId.value));\n\nconst switchCategory = (id) => {\n  activeCategoryId.value = id;\n};\n\nconst setOrderType = (type) => {\n    cartStore.setOrderType(type);\n};\n\nconst handleAddressSelect = (addr) => {\n    cartStore.setAddress(addr);\n};\n\nconst openAddressSelect = () => {\n    if (!userStore.isLoggedIn) {\n        uni.navigateTo({ url: '/pages/login/login' });\n        return;\n    }\n    uni.navigateTo({\n        url: '/pages/address/address?mode=select',\n        events: {\n            selectAddress: (addr) => {\n                handleAddressSelect(addr);\n            }\n        }\n    });\n};\n\nconst handleStoreSelect = (store) => {\n    cartStore.setStore(store);\n};\n\nconst openProduct = (prod) => {\n  selectedProduct.value = prod;\n  showDetail.value = true;\n};\n\nconst handleAddToCart = (data) => {\n  cartStore.addToCart(data.product, data.specs, data.qty);\n};\n\nconst handleSubmitOrder = async (data) => {\n  if (!userStore.isLoggedIn) {\n    showCart.value = false;\n    uni.navigateTo({ url: '/pages/login/login' });\n    return;\n  }\n\n  // Validate Address for Delivery\n  if (cartStore.orderType === 'delivery' && !cartStore.address) {\n      uni.showToast({ title: 'ËØ∑ÈÄâÊã©Êî∂Ë¥ßÂú∞ÂùÄ', icon: 'none' });\n      return;\n  }\n\n  // Submit Order Logic\n  const orderData = {\n    userId: userStore.userInfo.id,\n    orderType: cartStore.orderType, // Ensure orderType is passed\n    storeId: cartStore.store?.id, // Pass store info for both pickup and delivery\n    locationId: cartStore.orderType === 'delivery' ? cartStore.address.id : null, // Pass address for delivery\n    orderItems: JSON.parse(JSON.stringify(cartStore.items)), // Deep copy items\n    totalAmount: cartStore.originalTotal,\n    finalAmount: cartStore.finalTotal,\n    discountAmount: cartStore.discountAmount,\n    levelDiscountAmount: cartStore.levelDiscountAmount,\n    couponDiscountAmount: cartStore.couponDiscountAmount,\n    pointsDeduction: cartStore.pointsDeduction,\n    pointsConsumption: cartStore.usePoints ? Math.floor(cartStore.pointsDeduction * 100) : 0,\n    remarks: data && data.remarks ? data.remarks : ''\n  };\n  \n  uni.showLoading({ title: 'ÊîØ‰ªò‰∏≠...' });\n  try {\n    globalApi['orders'].add(null, orderData, (res) => {\n      console.log(res);\n      // Deduct points\n      if (cartStore.usePoints) {\n        userStore.updatePoints(userStore.userInfo.points - Math.floor(cartStore.pointsDeduction * 100));\n      }\n      // Add points from purchase\n      const gainedPoints = Math.floor(orderData.finalAmount);\n      userStore.updatePoints(userStore.userInfo.points + gainedPoints);\n      userStore.updateBalance(userStore.userInfo.balance - orderData.finalAmount);\n\n      cartStore.clearCart();\n      \n      // Close cart popup and restore TabBar\n      showCart.value = false;\n      uni.showTabBar();\n\n      uni.hideLoading();\n      uni.showToast({ title: 'ÊîØ‰ªòÊàêÂäü' });\n      \n      // Navigate to Orders\n      uni.switchTab({ url: '/pages/orders/orders' });\n    }, (err) => {\n      uni.hideLoading();\n      uni.showToast({ title: err.msg || 'Êèê‰∫§ËÆ¢ÂçïÂ§±Ë¥•', icon: 'none' });\n      return;\n    }, 'make-order');\n  } catch (e) {\n    uni.hideLoading();\n    uni.showToast({ title: 'ÊîØ‰ªòÂ§±Ë¥•', icon: 'none' });\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n}\n\n.store-header {\n  padding: 80rpx 30rpx 30rpx; // Match index.vue top padding\n  background: #fff;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 2rpx 10rpx rgba(0,0,0,0.05);\n  z-index: 10;\n  \n  .order-type-switch {\n    display: flex;\n    background: #f5f5f5;\n    border-radius: 40rpx;\n    padding: 4rpx;\n    margin-bottom: 20rpx;\n    width: fit-content;\n    \n    .switch-item {\n      padding: 10rpx 40rpx;\n      border-radius: 36rpx;\n      font-size: 28rpx;\n      color: #666;\n      transition: all 0.3s;\n      \n      &.active {\n        background: #333;\n        color: #fff;\n        font-weight: bold;\n        box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.1);\n      }\n    }\n  }\n\n  .store-info {\n    width: 100%;\n    \n    .store-name-row {\n      display: flex;\n      align-items: center;\n      margin-bottom: 12rpx;\n      \n      .store-name { font-size: 36rpx; font-weight: bold; color: #333; }\n      .arrow { margin-left: 10rpx; width: 24rpx; height: 24rpx; }\n    }\n    \n    .store-desc {\n      display: flex;\n      align-items: center;\n      font-size: 24rpx;\n      color: #666;\n      margin-bottom: 16rpx;\n      \n      .separator { margin: 0 12rpx; color: #eee; }\n    }\n  }\n  \n  .delivery-info {\n      margin-bottom: 20rpx;\n      \n      .address-box {\n          display: flex;\n          align-items: center;\n          margin-bottom: 10rpx;\n          \n          .no-addr {\n              flex: 1;\n              font-size: 32rpx;\n              font-weight: bold;\n              display: flex;\n              align-items: center;\n              color: #333;\n              \n              .plus { color: #ff6600; margin-right: 10rpx; font-size: 40rpx; }\n          }\n          \n          .addr-content {\n              flex: 1;\n              display: flex;\n              flex-direction: column;\n              \n              .addr-text { font-size: 32rpx; font-weight: bold; color: #333; margin-bottom: 6rpx; }\n              .user-text { font-size: 24rpx; color: #666; }\n          }\n          \n          .arrow { margin-left: 20rpx; width: 24rpx; height: 24rpx; }\n      }\n      \n      .delivery-store {\n          display: flex;\n          align-items: center;\n          margin-bottom: 12rpx;\n          font-size: 26rpx;\n          color: #666;\n          \n          .name {\n              font-weight: bold;\n              color: #333;\n              margin: 0 8rpx;\n          }\n          \n          .arrow-small {\n              width: 20rpx;\n              height: 20rpx;\n              opacity: 0.5;\n              margin-left: 4rpx;\n          }\n      }\n\n      .delivery-tip {\n          font-size: 22rpx;\n          color: #999;\n      }\n  }\n    \n  .bulletin {\n      display: flex;\n      align-items: center;\n      background: #fff9f0;\n      padding: 10rpx 16rpx;\n      border-radius: 8rpx;\n      \n      .tag { \n        background: #ff6600; \n        color: #fff; \n        font-size: 20rpx; \n        padding: 2rpx 8rpx; \n        border-radius: 4rpx; \n        margin-right: 12rpx;\n      }\n      .bulletin-text { font-size: 24rpx; color: #333; }\n    }\n    \n    .search-entry {\n        margin-top: 20rpx;\n        background: #f5f5f5;\n        height: 64rpx;\n        border-radius: 32rpx;\n        display: flex;\n        align-items: center;\n        padding: 0 24rpx;\n        \n        .icon { font-size: 28rpx; margin-right: 12rpx; opacity: 0.5; }\n        .placeholder { font-size: 24rpx; color: #999; }\n    }\n  }\n\n.menu-layout {\n  flex: 1;\n  display: flex;\n  overflow: hidden;\n}\n\n.left-nav {\n  width: 180rpx;\n  background-color: #f8f8f8;\n  height: 100%;\n  padding-bottom: 200rpx;\n  box-sizing: border-box;\n  \n  .nav-item {\n    padding: 30rpx 20rpx;\n    font-size: 28rpx;\n    color: #666;\n    text-align: center;\n    border-left: 8rpx solid transparent;\n    \n    &.active {\n      background-color: #fff;\n      color: #ff6600;\n      font-weight: bold;\n      border-left-color: #ff6600;\n    }\n  }\n}\n\n.right-content {\n  flex: 1;\n  height: 100%;\n  padding: 0 20rpx;\n  background-color: #fff;\n}\n\n.category-title {\n  padding: 20rpx 0;\n  font-size: 24rpx;\n  color: #999;\n  position: sticky;\n  top: 0;\n  background: #fff;\n  z-index: 10;\n}\n\n.product-item {\n  display: flex;\n  margin-bottom: 30rpx;\n  \n  .prod-img {\n    width: 160rpx;\n    height: 160rpx;\n    border-radius: 12rpx;\n    margin-right: 20rpx;\n    background-color: #f5f5f5;\n  }\n  \n  .prod-info {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    padding: 4rpx 0;\n    \n    .name {\n      font-size: 30rpx;\n      font-weight: bold;\n      color: #333;\n      display: block;\n      margin-bottom: 8rpx;\n    }\n    \n    .desc {\n      font-size: 22rpx;\n      color: #999;\n      display: -webkit-box;\n      -webkit-line-clamp: 1;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n    }\n    \n    .price-row {\n      display: flex;\n      justify-content: space-between;\n      align-items: flex-end;\n      \n      .price {\n        font-size: 32rpx;\n        font-weight: bold;\n        color: #333;\n      }\n      \n      .add-btn {\n        width: 48rpx;\n        height: 48rpx;\n        background-color: #ff6600;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        box-shadow: 0 4rpx 8rpx rgba(255, 102, 0, 0.3);\n        \n        .plus {\n          color: #fff;\n          font-size: 32rpx;\n          line-height: 1;\n          margin-top: -4rpx;\n        }\n      }\n    }\n  }\n}\n\n.cart-bar {\n  position: fixed;\n  bottom: 20rpx; // Adjusted to be closer to bottom\n  left: 30rpx;\n  right: 30rpx;\n  background-color: #333;\n  border-radius: 50rpx;\n  height: 100rpx;\n  display: flex;\n  align-items: center;\n  padding: 0 30rpx;\n  z-index: 1000;\n  box-shadow: 0 10rpx 20rpx rgba(0,0,0,0.2);\n  \n  .cart-icon-wrap {\n    position: relative;\n    margin-right: 30rpx;\n    \n    .icon { font-size: 40rpx; }\n    \n    .badge {\n      position: absolute;\n      top: -10rpx;\n      right: -10rpx;\n      background-color: #ff4d4f;\n      color: #fff;\n      font-size: 20rpx;\n      padding: 0 10rpx;\n      border-radius: 20rpx;\n      min-width: 30rpx;\n      text-align: center;\n    }\n  }\n  \n  .price-info {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    \n    .total { color: #fff; font-size: 32rpx; font-weight: bold; }\n    .discount { color: #999; font-size: 20rpx; }\n  }\n  \n  .settle-btn {\n    background-color: #ff6600;\n    color: #fff;\n    padding: 12rpx 40rpx;\n    border-radius: 40rpx;\n    font-size: 28rpx;\n    font-weight: bold;\n  }\n}\n</style>\n","import MiniProgramPage from 'E:/vue/Â•∂Ëå∂Â∞èÁ®ãÂ∫è/pages/menu/menu.vue'\nwx.createPage(MiniProgramPage)"],"names":["useCartStore","useUserStore","ref","watch","globalApi","uni","onShow","computed"],"mappings":"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"}